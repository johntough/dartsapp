<div ng-controller="ResultController as resultCtrl">

    <form id="filterForm" class="form-horizontal">
        <div class="form-group">    
        <label for="weekFilter" class="col-sm-3 control-label">Filter results by week</label>
            <div class="col-sm-6">
            <select id="weekFilter" ng-model="weekfilter" ng-change="resultCtrl.filter()" class="form-control" >
                <option value="all">All</option>
                <option value="{{week.id}}" ng-repeat="week in resultCtrl.getWeeks()">
                   {{week.name}} ( {{week.date}} )
                </option>
            </select>
        </div>
        </div>

        <div class="form-group">
        <label for="groupFilter" class="col-sm-3 control-label">Filter results by group</label>
            <div class="col-sm-6">
            <select id="groupFilter" ng-model="groupfilter" ng-change="resultCtrl.filter()" class="form-control">
                <option value="all">All</option>
                <option value="{{group.id}}" ng-repeat="group in resultCtrl.getGroups()">
                   {{group.name}}
                </option>
            </select>
        </div>
        </div>

        <div class="form-group">
        <label for="playerFilter" class="col-sm-3 control-label">Filter results by player</label>
            <div class="col-sm-6">
            <select id="playerFilter" ng-model="playerfilter" ng-change="resultCtrl.filter()" class="form-control">
                <option value="all">All</option>
                <option value="{{player.id}}" ng-repeat="player in resultCtrl.getPlayers()">
                   {{player.forename + ' ' + player.surname}}
                </option>
            </select>
        </div>
        </div>
    </form>

    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Group</th>
                <th>Player 1</th>
                <th>Player 1 Legs</th>
                <th>Player 2</th>
                <th>Player 2 Legs</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="result in resultCtrl.getResults() | orderBy:['-weekDateFormatted', 'group']">
                <td>{{result.weekNumber}} ( {{result.weekDate}} )</td>
                <td>{{result.group}}</td>
                <td ng-class="resultCtrl.getClass('1', result)">{{result.playerOne}}</td>
                <td ng-class="resultCtrl.getClass('1', result)">{{result.playerOneLegsWon}}</td>
                <td ng-class="resultCtrl.getClass('2', result)">{{result.playerTwo}}</td>
                <td ng-class="resultCtrl.getClass('2', result)">{{result.playerTwoLegsWon}}</td>
            </tr>
        </tbody>
    </table>
</div>