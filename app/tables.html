<div ng-controller="TableController as tableCtrl">
    <div ng-repeat="table in tableCtrl.getTables()">
    <h2>{{table.groupName}}</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Played</th>
                    <th>Won</th>
                    <th>Drawn</th>
                    <th>Lost</th>
                    <th>Legs For</th>
                    <th>Legs Against</th>
                    <th>Points</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="player in table.players | orderBy:['-points', '-legsWon', 'legsLost']">
                    <th ng-class="{ success: $index < 4 }">{{player.player}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.played}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.won}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.drawn}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.lost}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.legsWon}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.legsLost}}</th>
                    <th ng-class="{ success: $index < 4 }">{{player.points}}</th>
                </tr>
            </tbody>
        </table>
    </div>
</div>